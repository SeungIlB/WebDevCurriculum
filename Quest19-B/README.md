# Quest 19-B. 서버 아키텍쳐 패턴

## Introduction
* 이번 퀘스트에서는 현대적인 서버 아키텍쳐 패턴에 대해 익혀 보도록 하겠습니다.

## Topics
* Microservice Architecture
* Serverless Architecture
* AWS Lambda
* Service Mesh

## Resources
* [Jeff Bezos의 이메일](https://news.hada.io/topic?id=638)
* [마이크로서비스란?](https://www.redhat.com/ko/topics/microservices/what-are-microservices)
* [AWS Lambda](https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/welcome.html)
* [AWS API Gateway](https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/welcome.html)

## Checklist
* 마이크로서비스 아키텍쳐란 무엇일까요? 어떤 식으로 서비스를 구성할 수 있을까요? 어떤 장점을 가지고 있을까요?
    * 마이크로서비스 아키텍처(Microservices Architecture)는 소프트웨어 개발 방식 중 하나로, 하나의 큰 애플리케이션을 여러 개의 작은 서비스로 분할하여 개발하고 운영하는 방식입니다. 이러한 작은 서비스들은 독립적으로 배포 가능하며, 서로 간의 의존성이 낮아져 개발과 유지보수가 용이해지는 장점이 있습니다.

    * 마이크로서비스 아키텍처에서는 전체 시스템을 여러 개의 작은 서비스로 분할하고, 각각의 서비스는 자체적으로 데이터 저장소와 UI를 가지고 작동합니다. 이러한 방식으로 구성된 마이크로서비스 아키텍처에서는, 각각의 서비스가 독립적으로 배포 및 확장될 수 있습니다.

    * 이러한 아키텍처는 다음과 같은 장점을 가집니다.

    * 유연성과 확장성: 서비스 간의 의존성이 적어짐으로써, 개별적으로 배포 및 확장이 가능해집니다.
    * 기술적 다양성: 각각의 서비스가 독립적으로 운영되기 때문에, 서비스 내부에서 사용되는 기술 스택이 다양해질 수 있습니다.
    * 빠른 배포: 서비스를 독립적으로 배포할 수 있기 때문에, 더 빠르게 새로운 기능을 출시할 수 있습니다.
    * 안정성: 한 서비스의 장애가 전체 시스템에 영향을 끼치지 않고, 대응이 가능합니다.
    
    * 하지만 마이크로서비스 아키텍처는 다음과 같은 단점도 가집니다.

    * 복잡성: 서비스 간의 통신이 증가하면서, 관리하기 복잡해집니다.
    * 테스트의 어려움: 전체 시스템을 종합적으로 테스트하기 어렵습니다.
    * 데이터 일관성: 서비스 간의 데이터 일관성을 유지하기 어려워집니다.
    * 마이크로서비스 아키텍처는 이러한 장단점을 고려하여, 각각의 프로젝트에 맞게 적용하는 것이 중요합니다.

* 서버리스 아키텍쳐란 무엇일까요? 어떤 식으로 서비스를 구성할 수 있을까요? 어떤 장점을 가지고 있을까요?
    * 서버리스 아키텍쳐(Serverless Architecture)란 서버를 직접 관리하지 않고 클라우드 서비스 제공 업체에서 관리하는 컴퓨팅 리소스를 사용하여 애플리케이션을 개발하는 아키텍쳐입니다. 이는 개발자가 인프라를 관리하는 것에 대한 부담과 비용을 줄일 수 있습니다.

    * 서버리스 아키텍쳐에서는 개발자가 기능 단위로 코드를 작성하고, 이 코드를 서버리스 프레임워크를 이용해 클라우드 상의 함수(Function)로 배포합니다. 이러한 함수는 필요할 때 자동으로 실행되며, 실행 시간에 따라 과금이 이루어집니다. 서버리스 아키텍쳐는 다음과 같은 장점을 가집니다.

    * 비용 절감: 서버를 사용하는 경우에는 시스템을 실행하기 위한 하드웨어 구성과 유지 보수 비용이 필요합니다. 그러나 서버리스 아키텍처에서는 이러한 비용을 클라우드 서비스 업체에서 부담합니다.

    * 확장성: 함수를 사용하면 애플리케이션의 부하에 따라 필요한 컴퓨팅 리소스를 동적으로 할당할 수 있습니다. 이를 통해 애플리케이션의 확장성을 높일 수 있습니다.

    * 개발 생산성: 서버리스 아키텍처에서는 인프라 구성 및 관리에 대한 부담을 덜 수 있습니다. 이는 개발자가 코드에 집중할 수 있도록 하며, 애플리케이션의 개발 생산성을 높일 수 있습니다.

    * 서버리스 아키텍처를 구현할 수 있는 대표적인 서비스로는 AWS Lambda, Azure Functions, Google Cloud Functions 등이 있습니다. 이러한 서비스를 사용하면 개발자는 인프라 구성에 대한 걱정 없이 함수를 작성하고 배포할 수 있습니다.

* AWS Lambda는 어떤 서비스일까요? 이러한 서비스는 어떤 특징을 가지고, 어디에 쓰일 수 있을까요?
    * AWS Lambda는 서버리스 컴퓨팅 서비스로, 코드 실행에 필요한 인프라 관리와 확장성을 AWS에서 대신해줍니다. 사용자는 필요한 함수 코드를 작성하고, AWS Lambda는 해당 함수를 실행하는데 필요한 모든 것을 처리합니다. 이 서비스는 Pay-as-you-go 모델로 사용량에 따라 비용이 청구됩니다.

    * AWS Lambda는 이벤트 기반 아키텍처에 적합하며, S3, DynamoDB, SNS 등의 AWS 서비스에서 발생하는 이벤트에 대해 즉시 응답할 수 있습니다. 또한 AWS API Gateway와 함께 사용하여 RESTful API를 만들 수 있습니다.

    * AWS Lambda의 특징은 다음과 같습니다.

    * 서버리스 아키텍처: 인프라를 관리하지 않아도 되므로 개발자는 코드 작성에만 집중할 수 있습니다.
    * 이벤트 기반 아키텍처: S3, DynamoDB, SNS 등에서 발생하는 이벤트에 대해 즉시 응답할 수 있습니다.
    * 높은 확장성: 필요에 따라 함수를 추가하거나 제거하여 자동으로 확장할 수 있습니다.
    * 다양한 프로그래밍 언어 지원: Node.js, Python, Java, C# 등의 프로그래밍 언어를 지원합니다.
    * AWS Lambda는 각종 백그라운드 작업, 웹 애플리케이션 개발, 데이터 처리 등에 활용될 수 있습니다. 또한 API Gateway와 함께 사용하여 서버리스 웹 애플리케이션을 구축할 수 있으며, 서버리스 데이터 파이프라인 및 ETL 프로세스에도 사용할 수 있습니다.

* API Gateway는 어떤 서비스인가요? 어떤 설정을 할 수 있을까요?
    * API Gateway는 AWS에서 제공하는 RESTful API를 구축하고 관리할 수 있는 서비스입니다. 클라이언트와 백엔드 서비스 간의 연결, 보안, API 버전 관리, 스로틀링, 캐싱, 로깅, API 모니터링 등의 기능을 제공합니다.

    * API Gateway는 다음과 같은 설정을 할 수 있습니다:

    * API 생성 및 배포: RESTful API를 생성하고 배포할 수 있습니다.
    * 엔드포인트 생성: HTTP, AWS Lambda, AWS 서비스, VPC 링크, HTTP 백엔드, AWS 서비스 프록시 및 모바일 클라이언트용 WebSocket 엔드포인트를 생성할 수 있습니다.
    * 보안: API에 대한 액세스 제어 및 보안 설정을 할 수 있습니다. AWS Identity and Access Management(IAM)과 통합하여 API에 대한 권한을 부여할 수 있습니다.
    * 로깅 및 모니터링: API에 대한 요청 및 응답 로그를 수집하고 분석할 수 있습니다. Amazon CloudWatch와 통합하여 API에 대한 모니터링을 수행할 수 있습니다.
    * 캐싱: API Gateway에서 응답 결과를 캐싱하여 응답 시간을 최적화할 수 있습니다.
    * 스로틀링: API Gateway에서 요청을 제한하여 서비스 부하를 관리할 수 있습니다.
    
    * 이러한 설정들을 통해 API Gateway는 개발자가 쉽고 빠르게 RESTful API를 구축하고 관리할 수 있도록 도와줍니다.

* 많은 마이크로서비스들을 복잡하게 연결할 경우 관리상에 어떤 난점이 생길 수 있을까요? 서비스 메쉬는 무엇이고 이러한 난점을 어떻게 해결하려는 시도일까요?
    * 많은 마이크로서비스를 복잡하게 연결하면 서로간의 의존성이 증가하고, 각 서비스의 변경이 다른 서비스에도 영향을 미치게 되어 전체 시스템의 복잡도가 증가합니다. 이로 인해 시스템을 관리하고 유지보수하기 어려워지고, 장애 발생시 문제 해결이 어려워질 수 있습니다.

    * 서비스 메쉬는 이러한 복잡성을 해결하기 위한 아키텍처 패턴 중 하나입니다. 서비스 메쉬는 서비스간 통신을 관리하는 레이어를 추가하여 각 서비스가 서비스 메쉬를 통해서만 통신하도록 합니다. 이렇게 하면 각 서비스는 자신이 필요한 데이터만을 요청하고, 서비스 메쉬에서 요청을 라우팅하므로, 각 서비스는 서로간에 직접적인 의존성을 가질 필요가 없어집니다.

    * 서비스 메쉬는 일반적으로 사이드카 프록시라는 형태로 구현되며, 각 서비스 인스턴스 옆에 둬서 해당 인스턴스와의 모든 통신을 관리합니다. 이를 통해 서비스 간의 네트워크 로직을 중앙 집중화하고, 기능 확장 및 고도화, 새로운 프로토콜 및 서비스를 쉽게 추가할 수 있도록 합니다.

    * 장점으로는 서비스간의 결합도를 낮출 수 있어 유연성과 확장성이 높아지며, 보안성과 관찰성(observability)을 개선할 수 있습니다. 또한, 각 서비스 인스턴스의 성능과 안정성에 영향을 미치는 기능들을 서비스 메쉬 레이어로 이동시켜, 각 서비스는 그에 맞는 역할에 집중할 수 있습니다.


## Quest
* 메모장 시스템을 JWT 발급을 위한 마이크로서비스와 실제 비즈니스 로직을 처리하는 마이크로서비스로 나누어 보세요.
* JWT 토큰 발급의 역할을 하는 마이크로서비스를 AWS Lambda와 API Gateway를 이용하여 구축해 보세요.

## Advanced
* Istio는 어떤 툴일까요? 이 툴을 Kubernetes와 함께 사용하여 어떤 구조를 구현할 수 있을까요?
